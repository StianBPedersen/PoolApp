<div class="col-md-9">
	<h1 class="page-header">Spillere</h1>
  <table class="table table-hover" ng-table="tableParams" template-pagination="custom-pager">
    <tr ng-repeat="player in $data" ng-class="{ active: +($index % 2) === 0}">
      <td data-title="'Navn'" sortable="'name'">
        <strong>{{ player.name }}</strong>&nbsp;
        <a data-toggle="modal" data-target="#modaledit" ng-click="updatePlayer(player)"><small><i class="fa fa-edit"></i></small></a>
      </td>
      <td data-title="'Nickname'" sortable="'nickname'">{{ player.nickname }}</td>
      <td class="text-right" data-title="'Slett'">
        <a class="text-danger" confirm="removePlayer(player.userid)" confirm-popup-message="Er du sikker pÃ¥ at du vil slette spilleren?"><i class="fa fa-remove"></i></a>
      </td>
    </tr>
  </table>
</div>
<div class="col-md-3 margin-top">
	<button data-toggle="modal" data-target="#modalnew" class="btn btn-success btn-lg btn-block">+Spiller</button>
</div>

<div class="modal fade" modal="new" id="modalnew" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
	    	 <h3 class="modal-title">Legg til Spiller</h3>
	    </div>
      <div class="modal-body">
      	<form class="form-horizontal" name="player">
      		<div class="form-group">
      			<div class="col-md-12">
      				<input class="form-control" type="text" required ng-model="modalobj.name" placeholder="Navn" />
      			</div>
      		</div>
      		<div class="form-group">
      			<div class="col-md-12">
      				<input class="form-control" type="text" required ng-model="modalobj.nickname" placeholder="Nick" />
      			</div>
       		</div>
      	</form>
      </div>
      <div class="modal-footer">
    		<button class="btn btn-sm btn-transparent" ng-disabled="player.$invalid" ng-click="save();">Lagre</button>
    	</div>
     </div>
  </div>
</div>

<div class="modal fade" modal="edit" id="modaledit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
	    	 <h3 class="modal-title">Rediger spiller</h3>
	    </div>
      <div class="modal-body">
      	<form class="form-horizontal" name="player">
      		<div class="form-group">
      			<div class="col-md-12">
      				<input class="form-control" type="text" ng-model="modalobj.name" />
      			</div>
      		</div>
      		<div class="form-group">
      			<div class="col-md-12">
      				<input class="form-control" type="text" ng-model="modalobj.nickname" />
      			</div>
       		</div>
      	</form>
      </div>
      <div class="modal-footer">
    		<button class="btn btn-sm btn-default" ng-disabled="player.$pristine" ng-click="save();">Lagre</button>
    	</div>
     </div>
  </div>
</div>

<script type="text/ng-template" id="custom-pager" >
  <div class="text-center margin-t-20">
    <ul class="pagination pagination-sm">
      <li ng-class="{'disabled': !page.active}" ng-repeat="page in pages" ng-switch="page.type">
        <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a>
        <a ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a>
        <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a>
        <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a>
        <a ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a>
        <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a>
      </li>
    </ul>
  </div>
</script>

